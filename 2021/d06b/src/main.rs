use std::fs::File;
use std::io::prelude::*;

fn main() -> std::io::Result<()>
{
	let input = "4,1,1,4,1,2,1,4,1,3,4,4,1,5,5,1,3,1,1,1,4,4,3,1,5,3,1,2,5,1,1,5,1,1,4,1,1,1,1,2,1,5,3,4,4,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,5,1,1,1,4,1,2,3,5,1,2,2,4,1,4,4,4,1,2,5,1,2,1,1,1,1,1,1,4,1,1,4,3,4,2,1,3,1,1,1,3,5,5,4,3,4,1,5,1,1,1,2,2,1,3,1,2,4,1,1,3,3,1,3,3,1,1,3,1,5,1,1,3,1,1,1,5,4,1,1,1,1,4,1,1,3,5,4,3,1,1,5,4,1,1,2,5,4,2,1,4,1,1,1,1,3,1,1,1,1,4,1,1,1,1,2,4,1,1,1,1,3,1,1,5,1,1,1,1,1,1,4,2,1,3,1,1,1,2,4,2,3,1,4,1,2,1,4,2,1,4,4,1,5,1,1,4,4,1,2,2,1,1,1,1,1,1,1,1,1,1,1,4,5,4,1,3,1,3,1,1,1,5,3,5,5,2,2,1,4,1,4,2,1,4,1,2,1,1,2,1,1,5,4,2,1,1,1,2,4,1,1,1,1,2,1,1,5,1,1,2,2,5,1,1,1,1,1,2,4,2,3,1,2,1,5,4,5,1,4";

	// Initialise the array.
	let mut cycles: [i64; 9] = [0; 9];
	input.split(',').for_each(|x| 
	{
		let n: usize = x.parse().unwrap();
		cycles[n] = cycles[n] + 1;
	});

	println!("{:?}", cycles);

	for i in 0..256
	{
		// Step
		let nu = cycles[0];
		cycles[0] = cycles[1];
		cycles[1] = cycles[2];
		cycles[2] = cycles[3];
		cycles[3] = cycles[4];
		cycles[4] = cycles[5];
		cycles[5] = cycles[6];
		cycles[6] = cycles[7] + nu;
		cycles[7] = cycles[8];
		cycles[8] = nu;
	}

	let mut sum = 0;
	for i in 0..9
	{
		// Step
		let nu = cycles[0];
		sum = sum + cycles[i];
	}

	println!("{:?}", sum);
	
	Ok(())
}

